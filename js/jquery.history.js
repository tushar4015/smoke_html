typeof JSON!="object"&&(JSON={}),function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a){return"null"}gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1){u[n]=str(n,a)||"null"}return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1){typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}}else{for(r in a){Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}}return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number"){for(r=0;r<n;r+=1){indent+=" "}}else{typeof n=="string"&&(indent=n)}rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number"){return str("",{"":e})}throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object"){for(n in i){Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n])}}return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})}(),function(a,d){var b=a.History=a.History||{},c=a.jQuery;if(typeof b.Adapter!="undefined"){throw new Error("History.js Adapter has already been loaded...")}b.Adapter={bind:function(f,h,g){c(f).bind(h,g)},trigger:function(f,h,g){c(f).trigger(h,g)},extractEventData:function(f,h,j){var g=h&&h.originalEvent&&h.originalEvent[f]||j&&j[f]||d;return g},onDomLoad:function(f){c(f)}},typeof b.init!="undefined"&&b.init()}(window),function(a,h){var c=a.document,f=a.setTimeout||f,b=a.clearTimeout||b,g=a.setInterval||g,d=a.History=a.History||{};if(typeof d.initHtml4!="undefined"){throw new Error("History.js HTML4 Support has already been loaded...")}d.initHtml4=function(){if(typeof d.initHtml4.initialized!="undefined"){return !1}d.initHtml4.initialized=!0,d.enabled=!0,d.savedHashes=[],d.isLastHash=function(i){var k=d.getHashByIndex(),j;return j=i===k,j},d.isHashEqual=function(i,j){return i=encodeURIComponent(i).replace(/%25/g,"%"),j=encodeURIComponent(j).replace(/%25/g,"%"),i===j},d.saveHash=function(i){return d.isLastHash(i)?!1:(d.savedHashes.push(i),!0)},d.getHashByIndex=function(i){var j=null;return typeof i=="undefined"?j=d.savedHashes[d.savedHashes.length-1]:i<0?j=d.savedHashes[d.savedHashes.length+i]:j=d.savedHashes[i],j},d.discardedHashes={},d.discardedStates={},d.discardState=function(j,o,l){var m=d.getHashByState(j),k;return k={discardedState:j,backState:l,forwardState:o},d.discardedStates[m]=k,!0},d.discardHash=function(i,l,j){var k={discardedHash:i,backState:j,forwardState:l};return d.discardedHashes[i]=k,!0},d.discardedState=function(i){var k=d.getHashByState(i),j;return j=d.discardedStates[k]||!1,j},d.discardedHash=function(i){var j=d.discardedHashes[i]||!1;return j},d.recycleState=function(i){var j=d.getHashByState(i);return d.discardedState(i)&&delete d.discardedStates[j],!0},d.emulated.hashChange&&(d.hashChangeInit=function(){d.checkerFunction=null;var m="",l,k,n,e,j=Boolean(d.getHash());return d.isInternetExplorer()?(l="historyjs-iframe",k=c.createElement("iframe"),k.setAttribute("id",l),k.setAttribute("src","#"),k.style.display="none",c.body.appendChild(k),k.contentWindow.document.open(),k.contentWindow.document.close(),n="",e=!1,d.checkerFunction=function(){if(e){return !1}e=!0;var i=d.getHash(),o=d.getHash(k.contentWindow.document);return i!==m?(m=i,o!==i&&(n=o=i,k.contentWindow.document.open(),k.contentWindow.document.close(),k.contentWindow.document.location.hash=d.escapeHash(i)),d.Adapter.trigger(a,"hashchange")):o!==n&&(n=o,j&&o===""?d.back():d.setHash(o,!1)),e=!1,!0}):d.checkerFunction=function(){var i=d.getHash()||"";return i!==m&&(m=i,d.Adapter.trigger(a,"hashchange")),!0},d.intervalList.push(g(d.checkerFunction,d.options.hashChangeInterval)),!0},d.Adapter.onDomLoad(d.hashChangeInit)),d.emulated.pushState&&(d.onHashChange=function(o){var k=o&&o.newURL||d.getLocationHref(),l=d.getHashByUrl(k),j=null,m=null,p=null,e;return d.isLastHash(l)?(d.busy(!1),!1):(d.doubleCheckComplete(),d.saveHash(l),l&&d.isTraditionalAnchor(l)?(d.Adapter.trigger(a,"anchorchange"),d.busy(!1),!1):(j=d.extractState(d.getFullUrl(l||d.getLocationHref()),!0),d.isLastSavedState(j)?(d.busy(!1),!1):(m=d.getHashByState(j),e=d.discardedState(j),e?(d.getHashByIndex(-2)===d.getHashByState(e.forwardState)?d.back(!1):d.forward(!1),!1):(d.pushState(j.data,j.title,encodeURI(j.url),!1),!0))))},d.Adapter.bind(a,"hashchange",d.onHashChange),d.pushState=function(w,p,q,m){q=encodeURI(q).replace(/%25/g,"%");if(d.getHashByUrl(q)){throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).")}if(m!==!1&&d.busy()){return d.pushQueue({scope:d,callback:d.pushState,args:arguments,queue:m}),!1}d.busy(!0);var v=d.createStateObject(w,p,q),x=d.getHashByState(v),e=d.getState(!1),k=d.getHashByState(e),o=d.getHash(),j=d.expectedStateId==v.id;return d.storeState(v),d.expectedStateId=v.id,d.recycleState(v),d.setTitle(v),x===k?(d.busy(!1),!1):(d.saveState(v),j||d.Adapter.trigger(a,"statechange"),!d.isHashEqual(x,o)&&!d.isHashEqual(x,d.getShortUrl(d.getLocationHref()))&&d.setHash(x,!1),d.busy(!1),!0)},d.replaceState=function(v,o,p,k){p=encodeURI(p).replace(/%25/g,"%");if(d.getHashByUrl(p)){throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).")}if(k!==!1&&d.busy()){return d.pushQueue({scope:d,callback:d.replaceState,args:arguments,queue:k}),!1}d.busy(!0);var q=d.createStateObject(v,o,p),w=d.getHashByState(q),e=d.getState(!1),j=d.getHashByState(e),m=d.getStateByIndex(-2);return d.discardState(e,q,m),w===j?(d.storeState(q),d.expectedStateId=q.id,d.recycleState(q),d.setTitle(q),d.saveState(q),d.Adapter.trigger(a,"statechange"),d.busy(!1)):d.pushState(q.data,q.title,q.url,!1),!0}),d.emulated.pushState&&d.getHash()&&!d.emulated.hashChange&&d.Adapter.onDomLoad(function(){d.Adapter.trigger(a,"hashchange")})},typeof d.init!="undefined"&&d.init()}(window),function(k,C){var x=k.console||C,A=k.document,v=k.navigator,B=!1,y=k.setTimeout,D=k.clearTimeout,b=k.setInterval,m=k.clearInterval,w=k.JSON,g=k.alert,q=k.History=k.History||{},z=k.history;try{B=k.sessionStorage,B.setItem("TEST","1"),B.removeItem("TEST")}catch(j){B=!1}w.stringify=w.stringify||w.encode,w.parse=w.parse||w.decode;if(typeof q.init!="undefined"){throw new Error("History.js Core has already been loaded...")}q.init=function(a){return typeof q.Adapter=="undefined"?!1:(typeof q.initCore!="undefined"&&q.initCore(),typeof q.initHtml4!="undefined"&&q.initHtml4(),!0)},q.initCore=function(a){if(typeof q.initCore.initialized!="undefined"){return !1}q.initCore.initialized=!0,q.options=q.options||{},q.options.hashChangeInterval=q.options.hashChangeInterval||100,q.options.safariPollInterval=q.options.safariPollInterval||500,q.options.doubleCheckInterval=q.options.doubleCheckInterval||500,q.options.disableSuid=q.options.disableSuid||!1,q.options.storeInterval=q.options.storeInterval||1000,q.options.busyDelay=q.options.busyDelay||250,q.options.debug=q.options.debug||!1,q.options.initialTitle=q.options.initialTitle||A.title,q.options.html4Mode=q.options.html4Mode||!1,q.options.delayInit=q.options.delayInit||!1,q.intervalList=[],q.clearAllIntervals=function(){var d,f=q.intervalList;if(typeof f!="undefined"&&f!==null){for(d=0;d<f.length;d++){m(f[d])}q.intervalList=null}},q.debug=function(){(q.options.debug||!1)&&q.log.apply(q,arguments)},q.log=function(){var h=typeof x!="undefined"&&typeof x.log!="undefined"&&typeof x.log.apply!="undefined",E=A.getElementById("log"),n,r,p,F,d;h?(F=Array.prototype.slice.call(arguments),n=F.shift(),typeof x.debug!="undefined"?x.debug.apply(x,[n,F]):x.log.apply(x,[n,F])):n="\n"+arguments[0]+"\n";for(r=1,p=arguments.length;r<p;++r){d=arguments[r];if(typeof d=="object"&&typeof w!="undefined"){try{d=w.stringify(d)}catch(l){}}n+="\n"+d+"\n"}return E?(E.value+=n+"\n-----\n",E.scrollTop=E.scrollHeight-E.clientHeight):h||g(n),!0},q.getInternetExplorerMajorVersion=function(){var d=q.getInternetExplorerMajorVersion.cached=typeof q.getInternetExplorerMajorVersion.cached!="undefined"?q.getInternetExplorerMajorVersion.cached:function(){var f=3,i=A.createElement("div"),h=i.getElementsByTagName("i");while((i.innerHTML="<!--[if gt IE "+ ++f+"]><i></i><![endif]-->")&&h[0]){}return f>4?f:!1}();return d},q.isInternetExplorer=function(){var d=q.isInternetExplorer.cached=typeof q.isInternetExplorer.cached!="undefined"?q.isInternetExplorer.cached:Boolean(q.getInternetExplorerMajorVersion());return d},q.options.html4Mode?q.emulated={pushState:!0,hashChange:!0}:q.emulated={pushState:!Boolean(k.history&&k.history.pushState&&k.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(v.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(v.userAgent)),hashChange:Boolean(!("onhashchange" in k||"onhashchange" in A)||q.isInternetExplorer()&&q.getInternetExplorerMajorVersion()<8)},q.enabled=!q.emulated.pushState,q.bugs={setHash:Boolean(!q.emulated.pushState&&v.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(v.userAgent)),safariPoll:Boolean(!q.emulated.pushState&&v.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(v.userAgent)),ieDoubleCheck:Boolean(q.isInternetExplorer()&&q.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(q.isInternetExplorer()&&q.getInternetExplorerMajorVersion()<7)},q.isEmptyObject=function(d){for(var f in d){if(d.hasOwnProperty(f)){return !1}}return !0},q.cloneObject=function(d){var h,f;return d?(h=w.stringify(d),f=w.parse(h)):f={},f},q.getRootUrl=function(){var d=A.location.protocol+"//"+(A.location.hostname||A.location.host);if(A.location.port||!1){d+=":"+A.location.port}return d+="/",d},q.getBaseHref=function(){var d=A.getElementsByTagName("base"),h=null,f="";return d.length===1&&(h=d[0],f=h.href.replace(/[^\/]+$/,"")),f=f.replace(/\/+$/,""),f&&(f+="/"),f},q.getBaseUrl=function(){var d=q.getBaseHref()||q.getBasePageUrl()||q.getRootUrl();return d},q.getPageUrl=function(){var d=q.getState(!1,!1),h=(d||{}).url||q.getLocationHref(),f;return f=h.replace(/\/+$/,"").replace(/[^\/]+$/,function(i,o,l){return/\./.test(i)?i:i+"/"}),f},q.getBasePageUrl=function(){var d=q.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(f,i,h){return/[^\/]$/.test(f)?"":f}).replace(/\/+$/,"")+"/";return d},q.getFullUrl=function(d,i){var f=d,h=d.substring(0,1);return i=typeof i=="undefined"?!0:i,/[a-z]+\:\/\//.test(d)||(h==="/"?f=q.getRootUrl()+d.replace(/^\/+/,""):h==="#"?f=q.getPageUrl().replace(/#.*/,"")+d:h==="?"?f=q.getPageUrl().replace(/[\?#].*/,"")+d:i?f=q.getBaseUrl()+d.replace(/^(\.\/)+/,""):f=q.getBasePageUrl()+d.replace(/^(\.\/)+/,"")),f.replace(/\#$/,"")},q.getShortUrl=function(d){var i=d,f=q.getBaseUrl(),h=q.getRootUrl();return q.emulated.pushState&&(i=i.replace(f,"")),i=i.replace(h,"/"),q.isTraditionalAnchor(i)&&(i="./"+i),i=i.replace(/^(\.\/)+/g,"./").replace(/\#$/,""),i},q.getLocationHref=function(d){return d=d||A,d.URL===d.location.href?d.location.href:d.location.href===decodeURIComponent(d.URL)?d.URL:d.location.hash&&decodeURIComponent(d.location.href.replace(/^[^#]+/,""))===d.location.hash?d.location.href:d.URL.indexOf("#")==-1&&d.location.href.indexOf("#")!=-1?d.location.href:d.URL||d.location.href},q.store={},q.idToState=q.idToState||{},q.stateToId=q.stateToId||{},q.urlToId=q.urlToId||{},q.storedStates=q.storedStates||[],q.savedStates=q.savedStates||[],q.normalizeStore=function(){q.store.idToState=q.store.idToState||{},q.store.urlToId=q.store.urlToId||{},q.store.stateToId=q.store.stateToId||{}},q.getState=function(d,h){typeof d=="undefined"&&(d=!0),typeof h=="undefined"&&(h=!0);var f=q.getLastSavedState();return !f&&h&&(f=q.createStateObject()),d&&(f=q.cloneObject(f),f.url=f.cleanUrl||f.url),f},q.getIdByState=function(d){var h=q.extractId(d.url),f;if(!h){f=q.getStateString(d);if(typeof q.stateToId[f]!="undefined"){h=q.stateToId[f]}else{if(typeof q.store.stateToId[f]!="undefined"){h=q.store.stateToId[f]}else{for(;;){h=(new Date).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof q.idToState[h]=="undefined"&&typeof q.store.idToState[h]=="undefined"){break}}q.stateToId[f]=h,q.idToState[h]=d}}}return h},q.normalizeState=function(d){var h,f;if(!d||typeof d!="object"){d={}}if(typeof d.normalized!="undefined"){return d}if(!d.data||typeof d.data!="object"){d.data={}}return h={},h.normalized=!0,h.title=d.title||"",h.url=q.getFullUrl(d.url?d.url:q.getLocationHref()),h.hash=q.getShortUrl(h.url),h.data=q.cloneObject(d.data),h.id=q.getIdByState(h),h.cleanUrl=h.url.replace(/\??\&_suid.*/,""),h.url=h.cleanUrl,f=!q.isEmptyObject(h.data),(h.title||f)&&q.options.disableSuid!==!0&&(h.hash=q.getShortUrl(h.url).replace(/\??\&_suid.*/,""),/\?/.test(h.hash)||(h.hash+="?"),h.hash+="&_suid="+h.id),h.hashedUrl=q.getFullUrl(h.hash),(q.emulated.pushState||q.bugs.safariPoll)&&q.hasUrlDuplicate(h)&&(h.url=h.hashedUrl),h},q.createStateObject=function(d,i,f){var h={data:d,title:i,url:f};return h=q.normalizeState(h),h},q.getStateById=function(d){d=String(d);var f=q.idToState[d]||q.store.idToState[d]||C;return f},q.getStateString=function(d){var i,f,h;return i=q.normalizeState(d),f={data:i.data,title:d.title,url:d.url},h=w.stringify(f),h},q.getStateId=function(d){var h,f;return h=q.normalizeState(d),f=h.id,f},q.getHashByState=function(d){var h,f;return h=q.normalizeState(d),f=h.hash,f},q.extractId=function(d){var o,h,l,f;return d.indexOf("#")!=-1?f=d.split("#")[0]:f=d,h=/(.*)\&_suid=([0-9]+)$/.exec(f),l=h?h[1]||d:d,o=h?String(h[2]||""):"",o||!1},q.isTraditionalAnchor=function(d){var f=!/[\/\?\.]/.test(d);return f},q.extractState=function(d,o){var h=null,l,f;return o=o||!1,l=q.extractId(d),l&&(h=q.getStateById(l)),h||(f=q.getFullUrl(d),l=q.getIdByUrl(f)||!1,l&&(h=q.getStateById(l)),!h&&o&&!q.isTraditionalAnchor(d)&&(h=q.createStateObject(null,null,f))),h},q.getIdByUrl=function(d){var f=q.urlToId[d]||q.store.urlToId[d]||C;return f},q.getLastSavedState=function(){return q.savedStates[q.savedStates.length-1]||C},q.getLastStoredState=function(){return q.storedStates[q.storedStates.length-1]||C},q.hasUrlDuplicate=function(d){var h=!1,f;return f=q.extractState(d.url),h=f&&f.id!==d.id,h},q.storeState=function(d){return q.urlToId[d.url]=d.id,q.storedStates.push(q.cloneObject(d)),d},q.isLastSavedState=function(d){var o=!1,h,l,f;return q.savedStates.length&&(h=d.id,l=q.getLastSavedState(),f=l.id,o=h===f),o},q.saveState=function(d){return q.isLastSavedState(d)?!1:(q.savedStates.push(q.cloneObject(d)),!0)},q.getStateByIndex=function(d){var f=null;return typeof d=="undefined"?f=q.savedStates[q.savedStates.length-1]:d<0?f=q.savedStates[q.savedStates.length+d]:f=q.savedStates[d],f},q.getCurrentIndex=function(){var d=null;return q.savedStates.length<1?d=0:d=q.savedStates.length-1,d},q.getHash=function(d){var h=q.getLocationHref(d),f;return f=q.getHashByUrl(h),f},q.unescapeHash=function(d){var f=q.normalizeHash(d);return f=decodeURIComponent(f),f},q.normalizeHash=function(d){var f=d.replace(/[^#]*#/,"").replace(/#.*/,"");return f},q.setHash=function(d,l){var h,f;return l!==!1&&q.busy()?(q.pushQueue({scope:q,callback:q.setHash,args:arguments,queue:l}),!1):(q.busy(!0),h=q.extractState(d,!0),h&&!q.emulated.pushState?q.pushState(h.data,h.title,h.url,!1):q.getHash()!==d&&(q.bugs.setHash?(f=q.getPageUrl(),q.pushState(null,null,f+"#"+d,!1)):A.location.hash=d),q)},q.escapeHash=function(f){var d=q.normalizeHash(f);return d=k.encodeURIComponent(d),q.bugs.hashEscape||(d=d.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),d},q.getHashByUrl=function(d){var f=String(d).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return f=q.unescapeHash(f),f},q.setTitle=function(d){var l=d.title,h;l||(h=q.getStateByIndex(0),h&&h.url===d.url&&(l=h.title||q.options.initialTitle));try{A.getElementsByTagName("title")[0].innerHTML=l.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(f){}return A.title=l,q},q.queues=[],q.busy=function(d){typeof d!="undefined"?q.busy.flag=d:typeof q.busy.flag=="undefined"&&(q.busy.flag=!1);if(!q.busy.flag){D(q.busy.timeout);var f=function(){var h,i,l;if(q.busy.flag){return}for(h=q.queues.length-1;h>=0;--h){i=q.queues[h];if(i.length===0){continue}l=i.shift(),q.fireQueueItem(l),q.busy.timeout=y(f,q.options.busyDelay)}};q.busy.timeout=y(f,q.options.busyDelay)}return q.busy.flag},q.busy.flag=!1,q.fireQueueItem=function(d){return d.callback.apply(d.scope||q,d.args||[])},q.pushQueue=function(d){return q.queues[d.queue||0]=q.queues[d.queue||0]||[],q.queues[d.queue||0].push(d),q},q.queue=function(d,f){return typeof d=="function"&&(d={callback:d}),typeof f!="undefined"&&(d.queue=f),q.busy()?q.pushQueue(d):q.fireQueueItem(d),q},q.clearQueue=function(){return q.busy.flag=!1,q.queues=[],q},q.stateChanged=!1,q.doubleChecker=!1,q.doubleCheckComplete=function(){return q.stateChanged=!0,q.doubleCheckClear(),q},q.doubleCheckClear=function(){return q.doubleChecker&&(D(q.doubleChecker),q.doubleChecker=!1),q},q.doubleCheck=function(d){return q.stateChanged=!1,q.doubleCheckClear(),q.bugs.ieDoubleCheck&&(q.doubleChecker=y(function(){return q.doubleCheckClear(),q.stateChanged||d(),!0},q.options.doubleCheckInterval)),q},q.safariStatePoll=function(){var f=q.extractState(q.getLocationHref()),d;if(!q.isLastSavedState(f)){return d=f,d||(d=q.createStateObject()),q.Adapter.trigger(k,"popstate"),q}return},q.back=function(d){return d!==!1&&q.busy()?(q.pushQueue({scope:q,callback:q.back,args:arguments,queue:d}),!1):(q.busy(!0),q.doubleCheck(function(){q.back(!1)}),z.go(-1),!0)},q.forward=function(d){return d!==!1&&q.busy()?(q.pushQueue({scope:q,callback:q.forward,args:arguments,queue:d}),!1):(q.busy(!0),q.doubleCheck(function(){q.forward(!1)}),z.go(1),!0)},q.go=function(d,h){var f;if(d>0){for(f=1;f<=d;++f){q.forward(h)}}else{if(!(d<0)){throw new Error("History.go: History.go requires a positive or negative integer passed.")}for(f=-1;f>=d;--f){q.back(h)}}return q};if(q.emulated.pushState){var e=function(){};q.pushState=q.pushState||e,q.replaceState=q.replaceState||e}else{q.onPopState=function(u,f){var l=!1,d=!1,p,h;return q.doubleCheckComplete(),p=q.getHash(),p?(h=q.extractState(p||q.getLocationHref(),!0),h?q.replaceState(h.data,h.title,h.url,!1):(q.Adapter.trigger(k,"anchorchange"),q.busy(!1)),q.expectedStateId=!1,!1):(l=q.Adapter.extractEventData("state",u,f)||!1,l?d=q.getStateById(l):q.expectedStateId?d=q.getStateById(q.expectedStateId):d=q.extractState(q.getLocationHref()),d||(d=q.createStateObject(null,null,q.getLocationHref())),q.expectedStateId=!1,q.isLastSavedState(d)?(q.busy(!1),!1):(q.storeState(d),q.saveState(d),q.setTitle(d),q.Adapter.trigger(k,"statechange"),q.busy(!1),!0))},q.Adapter.bind(k,"popstate",q.onPopState),q.pushState=function(o,f,h,d){if(q.getHashByUrl(h)&&q.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(d!==!1&&q.busy()){return q.pushQueue({scope:q,callback:q.pushState,args:arguments,queue:d}),!1}q.busy(!0);var l=q.createStateObject(o,f,h);return q.isLastSavedState(l)?q.busy(!1):(q.storeState(l),q.expectedStateId=l.id,z.pushState(l.id,l.title,l.url),q.Adapter.trigger(k,"popstate")),!0},q.replaceState=function(o,f,h,d){if(q.getHashByUrl(h)&&q.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(d!==!1&&q.busy()){return q.pushQueue({scope:q,callback:q.replaceState,args:arguments,queue:d}),!1}q.busy(!0);var l=q.createStateObject(o,f,h);return q.isLastSavedState(l)?q.busy(!1):(q.storeState(l),q.expectedStateId=l.id,z.replaceState(l.id,l.title,l.url),q.Adapter.trigger(k,"popstate")),!0}}if(B){try{q.store=w.parse(B.getItem("History.store"))||{}}catch(c){q.store={}}q.normalizeStore()}else{q.store={},q.normalizeStore()}q.Adapter.bind(k,"unload",q.clearAllIntervals),q.saveState(q.storeState(q.extractState(q.getLocationHref(),!0))),B&&(q.onUnload=function(){var d,o,h;try{d=w.parse(B.getItem("History.store"))||{}}catch(l){d={}}d.idToState=d.idToState||{},d.urlToId=d.urlToId||{},d.stateToId=d.stateToId||{};for(o in q.idToState){if(!q.idToState.hasOwnProperty(o)){continue}d.idToState[o]=q.idToState[o]}for(o in q.urlToId){if(!q.urlToId.hasOwnProperty(o)){continue}d.urlToId[o]=q.urlToId[o]}for(o in q.stateToId){if(!q.stateToId.hasOwnProperty(o)){continue}d.stateToId[o]=q.stateToId[o]}q.store=d,q.normalizeStore(),h=w.stringify(d);try{B.setItem("History.store",h)}catch(f){if(f.code!==DOMException.QUOTA_EXCEEDED_ERR){throw f}B.length&&(B.removeItem("History.store"),B.setItem("History.store",h))}},q.intervalList.push(b(q.onUnload,q.options.storeInterval)),q.Adapter.bind(k,"beforeunload",q.onUnload),q.Adapter.bind(k,"unload",q.onUnload));if(!q.emulated.pushState){q.bugs.safariPoll&&q.intervalList.push(b(q.safariStatePoll,q.options.safariPollInterval));if(v.vendor==="Apple Computer, Inc."||(v.appCodeName||"")==="Mozilla"){q.Adapter.bind(k,"hashchange",function(){q.Adapter.trigger(k,"popstate")}),q.getHash()&&q.Adapter.onDomLoad(function(){q.Adapter.trigger(k,"hashchange")})}}},(!q.options||!q.options.delayInit)&&q.init()}(window);